# -*- coding: utf-8 -*-

# pylint: disable=R0904
# Disable too many public methods for test cases

"""
Test the vulnerability module.
"""

import unittest

from scipy import asarray

from core_hazimp.jobs.vulnerability_model import VulnerabilityFunction

class TestVulnerabilityFunction(unittest.TestCase):
    
    def setUp(self):
        self.mean_values = asarray([0, 1])
        self.cv_values = asarray([1, 1])
        self.mmi_values = asarray([4, 10])
    
    def tearDown(self):
        pass
    
    def test_calc_mean(self):
        func = VulnerabilityFunction('test',
                                      self.mean_values,
                                      self.cv_values,
                                      distribution='N')
        
        (mean, sigma) = func.calc_mean(7, self.mmi_values)
        self.assertEqual(0.5, mean, 
                         'mean=%s is not equal to expected 0.5' % mean)
        self.assertEqual(0.5, sigma, 
                         'sigma=%s is not equal to expected 0.5' % mean)
    
   

#-------------------------------------------------------------
if __name__ == "__main__":
    SUITE = unittest.makeSuite(TestVulnerabilityFunction,'test')
    RUNNER = unittest.TextTestRunner()
    RUNNER.run(SUITE)
    
